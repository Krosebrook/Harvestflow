# ─────────────────────────────────────────────────────────────
# Cloudflare Pages — HarvestFlow Dashboard (static SPA)
#
# Deployment shape: Cloudflare Pages hosts the pre-built Vite
# SPA (apps/dashboard/dist).  The Express API cannot run on
# Cloudflare Workers as-is (uses fs, multer, disk sessions);
# deploy the API separately (Docker / Vercel / Fly.io) and
# set VITE_API_BASE_URL at build time to point the dashboard
# at the remote API origin.
#
# Deploy via CLI:
#   npx wrangler pages deploy apps/dashboard/dist \
#     --project-name harvestflow-dashboard
#
# Or configure the Cloudflare Pages UI with:
#   Build command   : npm run build
#   Build output    : apps/dashboard/dist
#   Root directory  : (leave blank — repo root)
# ─────────────────────────────────────────────────────────────
name = "harvestflow-dashboard"
pages_build_output_dir = "apps/dashboard/dist"
compatibility_date = "2024-09-23"

[env.production]
# Set VITE_API_BASE_URL in the Cloudflare Pages dashboard under
# Settings → Environment Variables so the SPA can reach the API.
# Example: VITE_API_BASE_URL = "https://your-api.fly.dev"
